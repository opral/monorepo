-- label --
state_by_version select â€¢ recent file scan

-- original SQL --
SELECT entity_id, version_id, updated_at
        FROM state_by_version
        WHERE file_id = ? AND version_id = ?
        ORDER BY updated_at DESC
        LIMIT 20

-- rewritten SQL --
SELECT
  entity_id,
  version_id,
  updated_at
FROM (SELECT
  entity_id,
  file_id,
  version_id,
  updated_at
FROM (
WITH
  wanted_versions AS (
    SELECT 'boot_0000000000' AS version_id
  )
SELECT
  "w"."entity_id" as "entity_id", "w"."file_id" as "file_id", "w"."version_id" as "version_id", "w"."updated_at" as "updated_at", "w"."snapshot_content" as "snapshot_content"
FROM (
  SELECT
    c.entity_id AS entity_id,
    c.schema_key AS schema_key,
    c.file_id AS file_id,
    c.snapshot_content AS snapshot_content,
    c.version_id AS version_id,
    c.created_at AS created_at,
    c.updated_at AS updated_at,
    c.change_id AS change_id,
    c.priority AS priority,
    ROW_NUMBER() OVER (
            PARTITION BY c.file_id, c.schema_key, c.entity_id, c.version_id
            ORDER BY c.priority, c.created_at DESC, c.file_id, c.schema_key, c.entity_id, c.version_id, c.change_id
          ) AS rn
  FROM (
      SELECT
        unt.entity_id AS entity_id,
        unt.schema_key AS schema_key,
        unt.file_id AS file_id,
        json(unt.snapshot_content) AS snapshot_content,
        unt.version_id AS version_id,
        unt.created_at AS created_at,
        unt.updated_at AS updated_at,
        'untracked' AS change_id,
        2 AS priority
      FROM lix_internal_state_all_untracked unt
      JOIN wanted_versions wv_unt ON wv_unt.version_id = unt.version_id

          UNION ALL

      		SELECT
          cache.entity_id AS entity_id,
          cache.schema_key AS schema_key,
          cache.file_id AS file_id,
          json(cache.snapshot_content) AS snapshot_content,
          cache.version_id AS version_id,
          cache.created_at AS created_at,
          cache.updated_at AS updated_at,
          cache.change_id AS change_id,
          3 AS priority
      		FROM (SELECT
          "entity_id",
          "schema_key",
          "file_id",
          "snapshot_content",
          "version_id",
          "created_at",
          "updated_at",
          "change_id",
          "is_tombstone"
        FROM "lix_internal_state_cache_v1_lix_version_descriptor"
      UNION ALL
      SELECT
          "entity_id",
          "schema_key",
          "file_id",
          "snapshot_content",
          "version_id",
          "created_at",
          "updated_at",
          "change_id",
          "is_tombstone"
        FROM "lix_internal_state_cache_v1_lix_stored_schema"
      UNION ALL
      SELECT
          "entity_id",
          "schema_key",
          "file_id",
          "snapshot_content",
          "version_id",
          "created_at",
          "updated_at",
          "change_id",
          "is_tombstone"
        FROM "lix_internal_state_cache_v1_lix_key_value"
      UNION ALL
      SELECT
          "entity_id",
          "schema_key",
          "file_id",
          "snapshot_content",
          "version_id",
          "created_at",
          "updated_at",
          "change_id",
          "is_tombstone"
        FROM "lix_internal_state_cache_v1_lix_active_account"
      UNION ALL
      SELECT
          "entity_id",
          "schema_key",
          "file_id",
          "snapshot_content",
          "version_id",
          "created_at",
          "updated_at",
          "change_id",
          "is_tombstone"
        FROM "lix_internal_state_cache_v1_lix_commit"
      UNION ALL
      SELECT
          "entity_id",
          "schema_key",
          "file_id",
          "snapshot_content",
          "version_id",
          "created_at",
          "updated_at",
          "change_id",
          "is_tombstone"
        FROM "lix_internal_state_cache_v1_lix_commit_edge"
      UNION ALL
      SELECT
          "entity_id",
          "schema_key",
          "file_id",
          "snapshot_content",
          "version_id",
          "created_at",
          "updated_at",
          "change_id",
          "is_tombstone"
        FROM "lix_internal_state_cache_v1_lix_version_tip"
      UNION ALL
      SELECT
          "entity_id",
          "schema_key",
          "file_id",
          "snapshot_content",
          "version_id",
          "created_at",
          "updated_at",
          "change_id",
          "is_tombstone"
        FROM "lix_internal_state_cache_v1_lix_change_set"
      UNION ALL
      SELECT
          "entity_id",
          "schema_key",
          "file_id",
          "snapshot_content",
          "version_id",
          "created_at",
          "updated_at",
          "change_id",
          "is_tombstone"
        FROM "lix_internal_state_cache_v1_lix_change_set_element"
      UNION ALL
      SELECT
          "entity_id",
          "schema_key",
          "file_id",
          "snapshot_content",
          "version_id",
          "created_at",
          "updated_at",
          "change_id",
          "is_tombstone"
        FROM "lix_internal_state_cache_v1_lix_label"
      UNION ALL
      SELECT
          "entity_id",
          "schema_key",
          "file_id",
          "snapshot_content",
          "version_id",
          "created_at",
          "updated_at",
          "change_id",
          "is_tombstone"
        FROM "lix_internal_state_cache_v1_bench_state_by_version_view") cache
      		JOIN wanted_versions wv_cache ON wv_cache.version_id = cache.version_id

          UNION ALL

      		SELECT
          cache.entity_id AS entity_id,
          cache.schema_key AS schema_key,
          cache.file_id AS file_id,
          json(cache.snapshot_content) AS snapshot_content,
          vi.version_id AS version_id,
          cache.created_at AS created_at,
          cache.updated_at AS updated_at,
          cache.change_id AS change_id,
          4 AS priority
      		FROM (
      SELECT 'boot_0000000000' AS version_id, 'global' AS ancestor_version_id
      ) AS vi
      		JOIN wanted_versions wv_vi ON wv_vi.version_id = vi.version_id
      		JOIN (SELECT
          "entity_id",
          "schema_key",
          "file_id",
          "snapshot_content",
          "version_id",
          "created_at",
          "updated_at",
          "change_id",
          "is_tombstone"
        FROM "lix_internal_state_cache_v1_lix_version_descriptor"
      UNION ALL
      SELECT
          "entity_id",
          "schema_key",
          "file_id",
          "snapshot_content",
          "version_id",
          "created_at",
          "updated_at",
          "change_id",
          "is_tombstone"
        FROM "lix_internal_state_cache_v1_lix_stored_schema"
      UNION ALL
      SELECT
          "entity_id",
          "schema_key",
          "file_id",
          "snapshot_content",
          "version_id",
          "created_at",
          "updated_at",
          "change_id",
          "is_tombstone"
        FROM "lix_internal_state_cache_v1_lix_key_value"
      UNION ALL
      SELECT
          "entity_id",
          "schema_key",
          "file_id",
          "snapshot_content",
          "version_id",
          "created_at",
          "updated_at",
          "change_id",
          "is_tombstone"
        FROM "lix_internal_state_cache_v1_lix_active_account"
      UNION ALL
      SELECT
          "entity_id",
          "schema_key",
          "file_id",
          "snapshot_content",
          "version_id",
          "created_at",
          "updated_at",
          "change_id",
          "is_tombstone"
        FROM "lix_internal_state_cache_v1_lix_commit"
      UNION ALL
      SELECT
          "entity_id",
          "schema_key",
          "file_id",
          "snapshot_content",
          "version_id",
          "created_at",
          "updated_at",
          "change_id",
          "is_tombstone"
        FROM "lix_internal_state_cache_v1_lix_commit_edge"
      UNION ALL
      SELECT
          "entity_id",
          "schema_key",
          "file_id",
          "snapshot_content",
          "version_id",
          "created_at",
          "updated_at",
          "change_id",
          "is_tombstone"
        FROM "lix_internal_state_cache_v1_lix_version_tip"
      UNION ALL
      SELECT
          "entity_id",
          "schema_key",
          "file_id",
          "snapshot_content",
          "version_id",
          "created_at",
          "updated_at",
          "change_id",
          "is_tombstone"
        FROM "lix_internal_state_cache_v1_lix_change_set"
      UNION ALL
      SELECT
          "entity_id",
          "schema_key",
          "file_id",
          "snapshot_content",
          "version_id",
          "created_at",
          "updated_at",
          "change_id",
          "is_tombstone"
        FROM "lix_internal_state_cache_v1_lix_change_set_element"
      UNION ALL
      SELECT
          "entity_id",
          "schema_key",
          "file_id",
          "snapshot_content",
          "version_id",
          "created_at",
          "updated_at",
          "change_id",
          "is_tombstone"
        FROM "lix_internal_state_cache_v1_lix_label"
      UNION ALL
      SELECT
          "entity_id",
          "schema_key",
          "file_id",
          "snapshot_content",
          "version_id",
          "created_at",
          "updated_at",
          "change_id",
          "is_tombstone"
        FROM "lix_internal_state_cache_v1_bench_state_by_version_view") cache ON cache.version_id = vi.ancestor_version_id
      		WHERE cache.is_tombstone = 0
      		  AND cache.snapshot_content IS NOT NULL

          UNION ALL

      		SELECT
          unt.entity_id AS entity_id,
          unt.schema_key AS schema_key,
          unt.file_id AS file_id,
          json(unt.snapshot_content) AS snapshot_content,
          vi.version_id AS version_id,
          unt.created_at AS created_at,
          unt.updated_at AS updated_at,
          'untracked' AS change_id,
          5 AS priority
      		FROM (
      SELECT 'boot_0000000000' AS version_id, 'global' AS ancestor_version_id
      ) AS vi
      		JOIN wanted_versions wv_vi ON wv_vi.version_id = vi.version_id
      		JOIN lix_internal_state_all_untracked unt ON unt.version_id = vi.ancestor_version_id
      		WHERE unt.is_tombstone = 0
      		  AND unt.snapshot_content IS NOT NULL
  ) AS c
) AS w



WHERE w.rn = 1
) AS "lix_internal_state_vtable"
WHERE snapshot_content IS NOT NULL) AS state_by_version
WHERE file_id = ? AND version_id = ?
ORDER BY updated_at DESC
LIMIT 20

-- plan --
[
  {
    "id": 2,
    "parent": 0,
    "notused": 0,
    "detail": "CO-ROUTINE w"
  },
  {
    "id": 5,
    "parent": 2,
    "notused": 0,
    "detail": "CO-ROUTINE (subquery-34)"
  },
  {
    "id": 7,
    "parent": 5,
    "notused": 0,
    "detail": "CO-ROUTINE c"
  },
  {
    "id": 8,
    "parent": 7,
    "notused": 0,
    "detail": "COMPOUND QUERY"
  },
  {
    "id": 9,
    "parent": 8,
    "notused": 0,
    "detail": "LEFT-MOST SUBQUERY"
  },
  {
    "id": 12,
    "parent": 9,
    "notused": 0,
    "detail": "MATERIALIZE wanted_versions"
  },
  {
    "id": 14,
    "parent": 12,
    "notused": 0,
    "detail": "SCAN CONSTANT ROW"
  },
  {
    "id": 24,
    "parent": 9,
    "notused": 16,
    "detail": "SCAN wv_unt"
  },
  {
    "id": 30,
    "parent": 9,
    "notused": 61,
    "detail": "SEARCH unt USING INDEX ix_unt_v_f_s_e (version_id=? AND file_id=?)"
  },
  {
    "id": 52,
    "parent": 8,
    "notused": 0,
    "detail": "UNION ALL"
  },
  {
    "id": 53,
    "parent": 52,
    "notused": 0,
    "detail": "COMPOUND QUERY"
  },
  {
    "id": 54,
    "parent": 53,
    "notused": 0,
    "detail": "LEFT-MOST SUBQUERY"
  },
  {
    "id": 59,
    "parent": 54,
    "notused": 216,
    "detail": "SCAN wv_cache"
  },
  {
    "id": 65,
    "parent": 54,
    "notused": 61,
    "detail": "SEARCH lix_internal_state_cache_v1_lix_version_descriptor USING INDEX idx_lix_internal_state_cache_v1_lix_version_descriptor_fv (file_id=? AND version_id=?)"
  },
  {
    "id": 90,
    "parent": 53,
    "notused": 0,
    "detail": "UNION ALL"
  },
  {
    "id": 95,
    "parent": 90,
    "notused": 216,
    "detail": "SCAN wv_cache"
  },
  {
    "id": 101,
    "parent": 90,
    "notused": 61,
    "detail": "SEARCH lix_internal_state_cache_v1_lix_stored_schema USING INDEX idx_lix_internal_state_cache_v1_lix_stored_schema_fv (file_id=? AND version_id=?)"
  },
  {
    "id": 126,
    "parent": 53,
    "notused": 0,
    "detail": "UNION ALL"
  },
  {
    "id": 131,
    "parent": 126,
    "notused": 216,
    "detail": "SCAN wv_cache"
  },
  {
    "id": 137,
    "parent": 126,
    "notused": 61,
    "detail": "SEARCH lix_internal_state_cache_v1_lix_key_value USING INDEX idx_lix_internal_state_cache_v1_lix_key_value_fv (file_id=? AND version_id=?)"
  },
  {
    "id": 162,
    "parent": 53,
    "notused": 0,
    "detail": "UNION ALL"
  },
  {
    "id": 167,
    "parent": 162,
    "notused": 216,
    "detail": "SCAN wv_cache"
  },
  {
    "id": 173,
    "parent": 162,
    "notused": 61,
    "detail": "SEARCH lix_internal_state_cache_v1_lix_active_account USING INDEX idx_lix_internal_state_cache_v1_lix_active_account_fv (file_id=? AND version_id=?)"
  },
  {
    "id": 198,
    "parent": 53,
    "notused": 0,
    "detail": "UNION ALL"
  },
  {
    "id": 203,
    "parent": 198,
    "notused": 216,
    "detail": "SCAN wv_cache"
  },
  {
    "id": 209,
    "parent": 198,
    "notused": 61,
    "detail": "SEARCH lix_internal_state_cache_v1_lix_commit USING INDEX idx_lix_internal_state_cache_v1_lix_commit_fv (file_id=? AND version_id=?)"
  },
  {
    "id": 234,
    "parent": 53,
    "notused": 0,
    "detail": "UNION ALL"
  },
  {
    "id": 239,
    "parent": 234,
    "notused": 216,
    "detail": "SCAN wv_cache"
  },
  {
    "id": 245,
    "parent": 234,
    "notused": 61,
    "detail": "SEARCH lix_internal_state_cache_v1_lix_commit_edge USING INDEX idx_lix_internal_state_cache_v1_lix_commit_edge_fv (file_id=? AND version_id=?)"
  },
  {
    "id": 270,
    "parent": 53,
    "notused": 0,
    "detail": "UNION ALL"
  },
  {
    "id": 275,
    "parent": 270,
    "notused": 216,
    "detail": "SCAN wv_cache"
  },
  {
    "id": 281,
    "parent": 270,
    "notused": 61,
    "detail": "SEARCH lix_internal_state_cache_v1_lix_version_tip USING INDEX idx_lix_internal_state_cache_v1_lix_version_tip_fv (file_id=? AND version_id=?)"
  },
  {
    "id": 306,
    "parent": 53,
    "notused": 0,
    "detail": "UNION ALL"
  },
  {
    "id": 311,
    "parent": 306,
    "notused": 216,
    "detail": "SCAN wv_cache"
  },
  {
    "id": 317,
    "parent": 306,
    "notused": 61,
    "detail": "SEARCH lix_internal_state_cache_v1_lix_change_set USING INDEX idx_lix_internal_state_cache_v1_lix_change_set_fv (file_id=? AND version_id=?)"
  },
  {
    "id": 342,
    "parent": 53,
    "notused": 0,
    "detail": "UNION ALL"
  },
  {
    "id": 347,
    "parent": 342,
    "notused": 216,
    "detail": "SCAN wv_cache"
  },
  {
    "id": 353,
    "parent": 342,
    "notused": 61,
    "detail": "SEARCH lix_internal_state_cache_v1_lix_change_set_element USING INDEX idx_lix_internal_state_cache_v1_lix_change_set_element_fv (file_id=? AND version_id=?)"
  },
  {
    "id": 378,
    "parent": 53,
    "notused": 0,
    "detail": "UNION ALL"
  },
  {
    "id": 383,
    "parent": 378,
    "notused": 216,
    "detail": "SCAN wv_cache"
  },
  {
    "id": 389,
    "parent": 378,
    "notused": 61,
    "detail": "SEARCH lix_internal_state_cache_v1_lix_label USING INDEX idx_lix_internal_state_cache_v1_lix_label_fv (file_id=? AND version_id=?)"
  },
  {
    "id": 414,
    "parent": 53,
    "notused": 0,
    "detail": "UNION ALL"
  },
  {
    "id": 419,
    "parent": 414,
    "notused": 216,
    "detail": "SCAN wv_cache"
  },
  {
    "id": 425,
    "parent": 414,
    "notused": 61,
    "detail": "SEARCH lix_internal_state_cache_v1_bench_state_by_version_view USING INDEX idx_lix_internal_state_cache_v1_bench_state_by_version_view_fv (file_id=? AND version_id=?)"
  },
  {
    "id": 450,
    "parent": 53,
    "notused": 0,
    "detail": "UNION ALL"
  },
  {
    "id": 451,
    "parent": 450,
    "notused": 0,
    "detail": "COMPOUND QUERY"
  },
  {
    "id": 452,
    "parent": 451,
    "notused": 0,
    "detail": "LEFT-MOST SUBQUERY"
  },
  {
    "id": 454,
    "parent": 452,
    "notused": 0,
    "detail": "CO-ROUTINE vi"
  },
  {
    "id": 455,
    "parent": 454,
    "notused": 0,
    "detail": "SCAN CONSTANT ROW"
  },
  {
    "id": 465,
    "parent": 452,
    "notused": 16,
    "detail": "SCAN vi"
  },
  {
    "id": 470,
    "parent": 452,
    "notused": 27,
    "detail": "SEARCH lix_internal_state_cache_v1_lix_version_descriptor USING INDEX idx_lix_internal_state_cache_v1_lix_version_descriptor_live_vfe (version_id=? AND file_id=?)"
  },
  {
    "id": 482,
    "parent": 452,
    "notused": 216,
    "detail": "SCAN wv_vi"
  },
  {
    "id": 501,
    "parent": 451,
    "notused": 0,
    "detail": "UNION ALL"
  },
  {
    "id": 503,
    "parent": 501,
    "notused": 0,
    "detail": "CO-ROUTINE vi"
  },
  {
    "id": 504,
    "parent": 503,
    "notused": 0,
    "detail": "SCAN CONSTANT ROW"
  },
  {
    "id": 514,
    "parent": 501,
    "notused": 16,
    "detail": "SCAN vi"
  },
  {
    "id": 519,
    "parent": 501,
    "notused": 27,
    "detail": "SEARCH lix_internal_state_cache_v1_lix_stored_schema USING INDEX idx_lix_internal_state_cache_v1_lix_stored_schema_live_vfe (version_id=? AND file_id=?)"
  },
  {
    "id": 531,
    "parent": 501,
    "notused": 216,
    "detail": "SCAN wv_vi"
  },
  {
    "id": 550,
    "parent": 451,
    "notused": 0,
    "detail": "UNION ALL"
  },
  {
    "id": 552,
    "parent": 550,
    "notused": 0,
    "detail": "CO-ROUTINE vi"
  },
  {
    "id": 553,
    "parent": 552,
    "notused": 0,
    "detail": "SCAN CONSTANT ROW"
  },
  {
    "id": 563,
    "parent": 550,
    "notused": 16,
    "detail": "SCAN vi"
  },
  {
    "id": 568,
    "parent": 550,
    "notused": 27,
    "detail": "SEARCH lix_internal_state_cache_v1_lix_key_value USING INDEX idx_lix_internal_state_cache_v1_lix_key_value_live_vfe (version_id=? AND file_id=?)"
  },
  {
    "id": 580,
    "parent": 550,
    "notused": 216,
    "detail": "SCAN wv_vi"
  },
  {
    "id": 599,
    "parent": 451,
    "notused": 0,
    "detail": "UNION ALL"
  },
  {
    "id": 601,
    "parent": 599,
    "notused": 0,
    "detail": "CO-ROUTINE vi"
  },
  {
    "id": 602,
    "parent": 601,
    "notused": 0,
    "detail": "SCAN CONSTANT ROW"
  },
  {
    "id": 612,
    "parent": 599,
    "notused": 16,
    "detail": "SCAN vi"
  },
  {
    "id": 617,
    "parent": 599,
    "notused": 27,
    "detail": "SEARCH lix_internal_state_cache_v1_lix_active_account USING INDEX idx_lix_internal_state_cache_v1_lix_active_account_live_vfe (version_id=? AND file_id=?)"
  },
  {
    "id": 629,
    "parent": 599,
    "notused": 216,
    "detail": "SCAN wv_vi"
  },
  {
    "id": 648,
    "parent": 451,
    "notused": 0,
    "detail": "UNION ALL"
  },
  {
    "id": 650,
    "parent": 648,
    "notused": 0,
    "detail": "CO-ROUTINE vi"
  },
  {
    "id": 651,
    "parent": 650,
    "notused": 0,
    "detail": "SCAN CONSTANT ROW"
  },
  {
    "id": 661,
    "parent": 648,
    "notused": 16,
    "detail": "SCAN vi"
  },
  {
    "id": 666,
    "parent": 648,
    "notused": 27,
    "detail": "SEARCH lix_internal_state_cache_v1_lix_commit USING INDEX idx_lix_internal_state_cache_v1_lix_commit_live_vfe (version_id=? AND file_id=?)"
  },
  {
    "id": 678,
    "parent": 648,
    "notused": 216,
    "detail": "SCAN wv_vi"
  },
  {
    "id": 697,
    "parent": 451,
    "notused": 0,
    "detail": "UNION ALL"
  },
  {
    "id": 699,
    "parent": 697,
    "notused": 0,
    "detail": "CO-ROUTINE vi"
  },
  {
    "id": 700,
    "parent": 699,
    "notused": 0,
    "detail": "SCAN CONSTANT ROW"
  },
  {
    "id": 710,
    "parent": 697,
    "notused": 16,
    "detail": "SCAN vi"
  },
  {
    "id": 715,
    "parent": 697,
    "notused": 27,
    "detail": "SEARCH lix_internal_state_cache_v1_lix_commit_edge USING INDEX idx_lix_internal_state_cache_v1_lix_commit_edge_live_vfe (version_id=? AND file_id=?)"
  },
  {
    "id": 727,
    "parent": 697,
    "notused": 216,
    "detail": "SCAN wv_vi"
  },
  {
    "id": 746,
    "parent": 451,
    "notused": 0,
    "detail": "UNION ALL"
  },
  {
    "id": 748,
    "parent": 746,
    "notused": 0,
    "detail": "CO-ROUTINE vi"
  },
  {
    "id": 749,
    "parent": 748,
    "notused": 0,
    "detail": "SCAN CONSTANT ROW"
  },
  {
    "id": 759,
    "parent": 746,
    "notused": 16,
    "detail": "SCAN vi"
  },
  {
    "id": 764,
    "parent": 746,
    "notused": 27,
    "detail": "SEARCH lix_internal_state_cache_v1_lix_version_tip USING INDEX idx_lix_internal_state_cache_v1_lix_version_tip_live_vfe (version_id=? AND file_id=?)"
  },
  {
    "id": 776,
    "parent": 746,
    "notused": 216,
    "detail": "SCAN wv_vi"
  },
  {
    "id": 795,
    "parent": 451,
    "notused": 0,
    "detail": "UNION ALL"
  },
  {
    "id": 797,
    "parent": 795,
    "notused": 0,
    "detail": "CO-ROUTINE vi"
  },
  {
    "id": 798,
    "parent": 797,
    "notused": 0,
    "detail": "SCAN CONSTANT ROW"
  },
  {
    "id": 808,
    "parent": 795,
    "notused": 16,
    "detail": "SCAN vi"
  },
  {
    "id": 813,
    "parent": 795,
    "notused": 27,
    "detail": "SEARCH lix_internal_state_cache_v1_lix_change_set USING INDEX idx_lix_internal_state_cache_v1_lix_change_set_live_vfe (version_id=? AND file_id=?)"
  },
  {
    "id": 825,
    "parent": 795,
    "notused": 216,
    "detail": "SCAN wv_vi"
  },
  {
    "id": 844,
    "parent": 451,
    "notused": 0,
    "detail": "UNION ALL"
  },
  {
    "id": 846,
    "parent": 844,
    "notused": 0,
    "detail": "CO-ROUTINE vi"
  },
  {
    "id": 847,
    "parent": 846,
    "notused": 0,
    "detail": "SCAN CONSTANT ROW"
  },
  {
    "id": 857,
    "parent": 844,
    "notused": 16,
    "detail": "SCAN vi"
  },
  {
    "id": 862,
    "parent": 844,
    "notused": 27,
    "detail": "SEARCH lix_internal_state_cache_v1_lix_change_set_element USING INDEX idx_lix_internal_state_cache_v1_lix_change_set_element_live_vfe (version_id=? AND file_id=?)"
  },
  {
    "id": 874,
    "parent": 844,
    "notused": 216,
    "detail": "SCAN wv_vi"
  },
  {
    "id": 893,
    "parent": 451,
    "notused": 0,
    "detail": "UNION ALL"
  },
  {
    "id": 895,
    "parent": 893,
    "notused": 0,
    "detail": "CO-ROUTINE vi"
  },
  {
    "id": 896,
    "parent": 895,
    "notused": 0,
    "detail": "SCAN CONSTANT ROW"
  },
  {
    "id": 906,
    "parent": 893,
    "notused": 16,
    "detail": "SCAN vi"
  },
  {
    "id": 911,
    "parent": 893,
    "notused": 27,
    "detail": "SEARCH lix_internal_state_cache_v1_lix_label USING INDEX idx_lix_internal_state_cache_v1_lix_label_live_vfe (version_id=? AND file_id=?)"
  },
  {
    "id": 923,
    "parent": 893,
    "notused": 216,
    "detail": "SCAN wv_vi"
  },
  {
    "id": 942,
    "parent": 451,
    "notused": 0,
    "detail": "UNION ALL"
  },
  {
    "id": 944,
    "parent": 942,
    "notused": 0,
    "detail": "CO-ROUTINE vi"
  },
  {
    "id": 945,
    "parent": 944,
    "notused": 0,
    "detail": "SCAN CONSTANT ROW"
  },
  {
    "id": 955,
    "parent": 942,
    "notused": 16,
    "detail": "SCAN vi"
  },
  {
    "id": 960,
    "parent": 942,
    "notused": 27,
    "detail": "SEARCH lix_internal_state_cache_v1_bench_state_by_version_view USING INDEX idx_lix_internal_state_cache_v1_bench_state_by_version_view_live_vfe (version_id=? AND file_id=?)"
  },
  {
    "id": 972,
    "parent": 942,
    "notused": 216,
    "detail": "SCAN wv_vi"
  },
  {
    "id": 991,
    "parent": 451,
    "notused": 0,
    "detail": "UNION ALL"
  },
  {
    "id": 993,
    "parent": 991,
    "notused": 0,
    "detail": "CO-ROUTINE vi"
  },
  {
    "id": 994,
    "parent": 993,
    "notused": 0,
    "detail": "SCAN CONSTANT ROW"
  },
  {
    "id": 1004,
    "parent": 991,
    "notused": 16,
    "detail": "SCAN vi"
  },
  {
    "id": 1009,
    "parent": 991,
    "notused": 61,
    "detail": "SEARCH unt USING INDEX ix_unt_v_f_s_e (version_id=? AND file_id=?)"
  },
  {
    "id": 1024,
    "parent": 991,
    "notused": 0,
    "detail": "BLOOM FILTER ON wv_vi (version_id=?)"
  },
  {
    "id": 1036,
    "parent": 991,
    "notused": 53,
    "detail": "SEARCH wv_vi USING AUTOMATIC PARTIAL COVERING INDEX (version_id=?)"
  },
  {
    "id": 1058,
    "parent": 53,
    "notused": 261,
    "detail": "SCAN c"
  },
  {
    "id": 1098,
    "parent": 53,
    "notused": 0,
    "detail": "USE TEMP B-TREE FOR LAST 10 TERMS OF ORDER BY"
  },
  {
    "id": 1135,
    "parent": 52,
    "notused": 241,
    "detail": "SCAN (subquery-34)"
  },
  {
    "id": 1205,
    "parent": 8,
    "notused": 241,
    "detail": "SCAN w"
  },
  {
    "id": 1227,
    "parent": 8,
    "notused": 0,
    "detail": "USE TEMP B-TREE FOR ORDER BY"
  }
]
