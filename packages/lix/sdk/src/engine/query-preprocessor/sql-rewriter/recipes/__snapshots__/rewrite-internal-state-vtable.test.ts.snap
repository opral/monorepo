// Vitest Snapshot v1, https://vitest.dev/guide/snapshot.html

exports[`matrix of queries preserves precedence across rewrites > matrix fast limit plan 1`] = `
"2|0|0|CO-ROUTINE (subquery-27)
3|2|0|COMPOUND QUERY
4|3|0|LEFT-MOST SUBQUERY
7|4|62|SEARCH txn USING INDEX ix_txn_v_f_s_e (version_id=?)
44|3|0|UNION ALL
47|44|61|SEARCH u USING INDEX idx_internal_state_all_untracked_version_id (version_id=?)
65|44|0|CORRELATED SCALAR SUBQUERY 6
69|65|45|SEARCH t USING COVERING INDEX sqlite_autoindex_internal_transaction_state_2 (entity_id=? AND file_id=? AND schema_key=? AND version_id=?)
111|3|0|UNION ALL
114|111|0|MATERIALIZE change
116|114|0|COMPOUND QUERY
117|116|0|LEFT-MOST SUBQUERY
121|117|216|SCAN c
123|117|47|SEARCH s USING INDEX sqlite_autoindex_internal_snapshot_1 (id=?) LEFT-JOIN
148|116|0|UNION ALL
150|148|216|SCAN t
173|111|99|SCAN internal_state_cache VIRTUAL TABLE INDEX 0:schema_key,entity_id,version_id,schema_key
194|111|0|CORRELATED SCALAR SUBQUERY 9
198|194|45|SEARCH t USING COVERING INDEX sqlite_autoindex_internal_transaction_state_2 (entity_id=? AND file_id=? AND schema_key=? AND version_id=?)
213|111|0|CORRELATED SCALAR SUBQUERY 10
217|213|45|SEARCH u USING COVERING INDEX sqlite_autoindex_internal_state_all_untracked_1 (entity_id=? AND schema_key=? AND file_id=? AND version_id=?)
249|111|53|SEARCH ch USING AUTOMATIC COVERING INDEX (id=?) LEFT-JOIN
288|3|0|UNION ALL
291|288|0|MATERIALIZE version_inheritance
296|291|0|SETUP
299|296|212|SCAN desc USING COVERING INDEX idx_internal_state_cache_lix_version_descriptor_id_parent
326|291|0|RECURSIVE STEP
329|326|216|SCAN vir
330|326|54|SEARCH desc USING COVERING INDEX idx_internal_state_cache_lix_version_descriptor_id_parent (<expr>=?)
354|288|0|MATERIALIZE change
356|354|0|COMPOUND QUERY
357|356|0|LEFT-MOST SUBQUERY
361|357|216|SCAN c
363|357|47|SEARCH s USING INDEX sqlite_autoindex_internal_snapshot_1 (id=?) LEFT-JOIN
388|356|0|UNION ALL
390|388|216|SCAN t
415|288|99|SCAN internal_state_cache VIRTUAL TABLE INDEX 0:schema_key,inheritance_delete_marker,entity_id,schema_key
433|288|0|BLOOM FILTER ON vi (version_id=?)
448|288|53|SEARCH vi USING AUTOMATIC PARTIAL COVERING INDEX (version_id=?)
457|288|0|CORRELATED SCALAR SUBQUERY 13
461|457|45|SEARCH t USING COVERING INDEX sqlite_autoindex_internal_transaction_state_2 (entity_id=? AND file_id=? AND schema_key=? AND version_id=?)
477|288|0|CORRELATED SCALAR SUBQUERY 15
486|477|99|SCAN internal_state_cache VIRTUAL TABLE INDEX 0:schema_key,version_id,file_id,schema_key,entity_id
513|288|0|CORRELATED SCALAR SUBQUERY 16
517|513|45|SEARCH child_unt USING COVERING INDEX sqlite_autoindex_internal_state_all_untracked_1 (entity_id=? AND schema_key=? AND file_id=? AND version_id=?)
550|288|53|SEARCH ch USING AUTOMATIC COVERING INDEX (id=?) LEFT-JOIN
557|288|45|SEARCH ws_child USING PRIMARY KEY (file_id=? AND version_id=? AND entity_id=? AND schema_key=?) LEFT-JOIN
568|288|45|SEARCH ws_parent USING PRIMARY KEY (file_id=? AND version_id=? AND entity_id=? AND schema_key=?) LEFT-JOIN
616|3|0|UNION ALL
623|616|61|SEARCH unt USING INDEX sqlite_autoindex_internal_state_all_untracked_1 (entity_id=? AND schema_key=?)
635|616|0|BLOOM FILTER ON vi (version_id=?)
647|616|53|SEARCH vi USING AUTOMATIC PARTIAL COVERING INDEX (version_id=?)
656|616|0|CORRELATED SCALAR SUBQUERY 18
660|656|45|SEARCH t USING COVERING INDEX sqlite_autoindex_internal_transaction_state_2 (entity_id=? AND file_id=? AND schema_key=? AND version_id=?)
676|616|0|CORRELATED SCALAR SUBQUERY 20
685|676|99|SCAN internal_state_cache VIRTUAL TABLE INDEX 0:schema_key,version_id,file_id,schema_key,entity_id
712|616|0|CORRELATED SCALAR SUBQUERY 21
716|712|45|SEARCH child_unt USING COVERING INDEX sqlite_autoindex_internal_state_all_untracked_1 (entity_id=? AND schema_key=? AND file_id=? AND version_id=?)
731|616|45|SEARCH ws_child USING PRIMARY KEY (file_id=? AND version_id=? AND entity_id=? AND schema_key=?) LEFT-JOIN
742|616|45|SEARCH ws_parent USING PRIMARY KEY (file_id=? AND version_id=? AND entity_id=? AND schema_key=?) LEFT-JOIN
786|3|0|UNION ALL
793|786|62|SEARCH txn USING INDEX sqlite_autoindex_internal_transaction_state_2 (entity_id=?)
802|786|54|SEARCH desc USING COVERING INDEX idx_internal_state_cache_lix_version_descriptor_id_parent (<expr>=?)
818|786|0|CORRELATED SCALAR SUBQUERY 23
822|818|45|SEARCH child_txn USING COVERING INDEX sqlite_autoindex_internal_transaction_state_2 (entity_id=? AND file_id=? AND schema_key=? AND version_id=?)
839|786|0|CORRELATED SCALAR SUBQUERY 25
848|839|99|SCAN internal_state_cache VIRTUAL TABLE INDEX 0:schema_key,version_id,file_id,schema_key,entity_id
876|786|0|CORRELATED SCALAR SUBQUERY 26
880|876|45|SEARCH child_unt USING COVERING INDEX sqlite_autoindex_internal_state_all_untracked_1 (entity_id=? AND schema_key=? AND file_id=? AND version_id=?)
896|786|45|SEARCH ws_child USING PRIMARY KEY (file_id=? AND version_id=? AND entity_id=? AND schema_key=?) LEFT-JOIN
908|786|45|SEARCH ws_parent USING PRIMARY KEY (file_id=? AND version_id=? AND entity_id=? AND schema_key=?) LEFT-JOIN
959|0|202|SCAN (subquery-27)"
`;
