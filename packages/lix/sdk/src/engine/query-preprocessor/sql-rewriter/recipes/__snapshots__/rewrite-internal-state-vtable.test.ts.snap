// Vitest Snapshot v1, https://vitest.dev/guide/snapshot.html

exports[`matrix of queries preserves precedence across rewrites > matrix fast limit plan 1`] = `
"2|0|0|CO-ROUTINE v
4|2|0|CO-ROUTINE (subquery-9)
5|4|0|COMPOUND QUERY
6|5|0|LEFT-MOST SUBQUERY
8|6|0|CO-ROUTINE (subquery-1)
12|8|62|SEARCH txn USING INDEX ix_txn_v_f_s_e (version_id=?)
53|6|16|SCAN (subquery-1)
74|5|0|UNION ALL
76|74|0|CO-ROUTINE (subquery-4)
80|76|61|SEARCH u USING INDEX idx_internal_state_all_untracked_version_id (version_id=?)
98|76|0|CORRELATED SCALAR SUBQUERY 3
102|98|45|SEARCH t USING COVERING INDEX sqlite_autoindex_internal_transaction_state_2 (entity_id=? AND file_id=? AND schema_key=? AND version_id=?)
147|74|16|SCAN (subquery-4)
168|5|0|UNION ALL
170|168|0|CO-ROUTINE (subquery-8)
173|170|0|MATERIALIZE change
175|173|0|COMPOUND QUERY
176|175|0|LEFT-MOST SUBQUERY
180|176|216|SCAN c
182|176|47|SEARCH s USING INDEX sqlite_autoindex_internal_snapshot_1 (id=?) LEFT-JOIN
207|175|0|UNION ALL
209|207|216|SCAN t
230|170|99|SCAN c VIRTUAL TABLE INDEX 0:schema_key,entity_id,version_id
250|170|0|CORRELATED SCALAR SUBQUERY 6
254|250|45|SEARCH t USING COVERING INDEX sqlite_autoindex_internal_transaction_state_2 (entity_id=? AND file_id=? AND schema_key=? AND version_id=?)
269|170|0|CORRELATED SCALAR SUBQUERY 7
273|269|45|SEARCH u USING COVERING INDEX sqlite_autoindex_internal_state_all_untracked_1 (entity_id=? AND schema_key=? AND file_id=? AND version_id=?)
305|170|53|SEARCH ch USING AUTOMATIC COVERING INDEX (id=?) LEFT-JOIN
347|168|16|SCAN (subquery-8)
370|2|32|SCAN (subquery-9)
394|0|16|SCAN v"
`;

exports[`uses fast path for limit 1 queries 1`] = `
"2|0|0|CO-ROUTINE (subquery-9)
3|2|0|COMPOUND QUERY
4|3|0|LEFT-MOST SUBQUERY
6|4|0|CO-ROUTINE (subquery-1)
9|6|216|SCAN txn
45|4|16|SCAN (subquery-1)
66|3|0|UNION ALL
68|66|0|CO-ROUTINE (subquery-4)
71|68|216|SCAN u
84|68|0|CORRELATED SCALAR SUBQUERY 3
88|84|45|SEARCH t USING COVERING INDEX sqlite_autoindex_internal_transaction_state_2 (entity_id=? AND file_id=? AND schema_key=? AND version_id=?)
131|66|16|SCAN (subquery-4)
152|3|0|UNION ALL
154|152|0|CO-ROUTINE (subquery-8)
157|154|0|MATERIALIZE change
159|157|0|COMPOUND QUERY
160|159|0|LEFT-MOST SUBQUERY
164|160|216|SCAN c
166|160|47|SEARCH s USING INDEX sqlite_autoindex_internal_snapshot_1 (id=?) LEFT-JOIN
191|159|0|UNION ALL
193|191|216|SCAN t
214|154|99|SCAN c VIRTUAL TABLE INDEX 0:schema_key
228|154|0|CORRELATED SCALAR SUBQUERY 6
232|228|45|SEARCH t USING COVERING INDEX sqlite_autoindex_internal_transaction_state_2 (entity_id=? AND file_id=? AND schema_key=? AND version_id=?)
245|154|0|CORRELATED SCALAR SUBQUERY 7
249|245|45|SEARCH u USING COVERING INDEX sqlite_autoindex_internal_state_all_untracked_1 (entity_id=? AND schema_key=? AND file_id=? AND version_id=?)
279|154|53|SEARCH ch USING AUTOMATIC COVERING INDEX (id=?) LEFT-JOIN
321|152|16|SCAN (subquery-8)
345|0|32|SCAN (subquery-9)
372|0|0|USE TEMP B-TREE FOR ORDER BY"
`;
